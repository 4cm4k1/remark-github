!function(b,a){typeof exports==='object'&&typeof module!=='undefined'?module.exports=b():typeof define==='function'&&define.amd?define([],b):(typeof window!=='undefined'?a=window:typeof global!=='undefined'?a=global:typeof self!=='undefined'?a=self:a=this,a.mdastGitHub=b())}(function(){return function a(b,c,e){function f(d,k){if(!c[d]){if(!b[d]){var i=typeof require=='function'&&require;if(!k&&i)return i(d,!0);if(g)return g(d,!0);var j=new Error("Cannot find module '"+d+"'");throw j.code='MODULE_NOT_FOUND',j}var h=c[d]={exports:{}};b[d][0].call(h.exports,function(c){var a=b[d][1][c];return f(a?a:c)},h,h.exports,a,b,c,e)}return c[d].exports}var g=typeof require=='function'&&require;for(var d=0;d<e.length;d++)f(e[d]);return f}({1:[function(a,b,c){(function(t){'use strict';function e(a,c){var b='https://github.com/';return c&&(a={user:a,project:c}),a&&(b+=a.user+'/'+a.project+'/'),b}function o(a){return w.indexOf(a.toLowerCase())===-1}function n(a){return a.slice(0,7)}function H(a){return a&&a.type==='text'}function f(a,b,c){return{type:'link',href:b,title:null,children:c,position:a}}function c(a,b){return{type:'text',value:b,position:a}}function d(n,w){function v(){return{line:s,column:j}}function r(){var a=v();return function(){return{start:a,end:v()}}}var e=n.value,p=e.length,g=[],t=m.length,h=-1,a=-1,o,k,i,u,f=0,l=0,b=n.position?n.position.start:{},s=b.line||1,j=b.column||1;b=r();while(++a<p){if(h=-1,a===0||F.test(e.charAt(a-1)))while(++h<t)k=m[h],i=q[k].exec(e.slice(a)),q[k].lastIndex=0,i&&(u=r(),l=a,a+=i[0].length,o=d[k].apply(null,[u(),w].concat(i)),o)&&(l!==f&&(g.push(c(b(),e.slice(f,l))),b=r()),f=a,g.push(o));e.charAt(h)==='\n'&&(s++,j=0),j++}return f<p&&g.push(c(b(),e.slice(f,a))),g}function I(g,h){function i(a,c,e){E.apply(e,[c,1].concat(d(a,b)))}var b=h.repository,c;if(!b){try{c=a(a('path').resolve(s.cwd(),'package.json'))}catch(a){c={}}b=c.repository?c.repository.url||c.repository:''}if(b=p.exec(b),p.lastIndex=0,!b)throw new Error('Missing `repository` field in `options`');b={user:b[1],project:b[2]};var e,f;e=function(a,b,c){H(a)?i(a,b,c):'children'in a&&a.type!=='link'&&f(a.children)},f=function(a){a.map(e)},e(g)}var E=Array.prototype.splice,y=Object.prototype.hasOwnProperty,s=t!==void 0&&t.process,l='(?:[a-z0-9]{1,2}|[a-z0-9][a-z0-9-]{1,37}[a-z0-9])',h='('+l+')',G='('+l+'(?:\\/'+l+')?)',k='([a-f0-9]{7,40})',i='([0-9]+)',u='((?:[a-z0-9-]|\\.git[a-z0-9-]|\\.(?!git))+)',v='(?:GH-|#)'+i,j=h+'\\/'+u,x=new RegExp('^'+k+'\\b','gi'),r=new RegExp('^'+h+'@'+k+'\\b','gi'),z=new RegExp('^'+j+'@'+k+'\\b','gi'),A=new RegExp('^'+v+'\\b','gi'),B=new RegExp('^'+h+'#'+i+'\\b','gi'),C=new RegExp('^'+j+'#'+i+'\\b','gi'),D=new RegExp('^@'+G+'\\b(?!-)','gi'),p=new RegExp('(?:^|/(?:repos/)?)'+j+'(?=\\.git|[\\/#@]|$)','i'),F=new RegExp('\\s'),q={sha:x,userSHA:r,repoSHA:z,issue:A,userIssue:B,repoIssue:C,mention:D},m=['repoSHA','userSHA','sha','repoIssue','userIssue','issue','mention'],w=['deedeed','fabaceae'];d.repoSHA=function(b,j,k,d,g,a){var h,i;return o(a)?(h=e(d,g)+'commit/'+a,i=d+'/'+g+'@'+n(a),f(b,h,[c(b,i)])):void 0},d.userSHA=function(b,i,j,d,a){var g,h;return o(a)?(g=e(d,i.project)+'commit/'+a,h=d+'@'+n(a),f(b,g,[c(b,h)])):void 0},d.sha=function(a,g,h,b){var d;return o(b)?(d=e(g)+'commit/'+b,f(a,d,[c(a,n(h))])):void 0},d.repoIssue=function(a,j,d,g,h,i){var b=e(g,h)+'issues/'+i;return f(a,b,[c(a,d)])},d.userIssue=function(a,d,g,h,i){var b=e(h,d.project)+'issues/'+i;return f(a,b,[c(a,g)])},d.issue=function(a,d,g,h){var b=e(d)+'issues/'+h;return f(a,b,[c(a,g)])};var g={};g.mentions=g.mention='blog/821',d.mention=function(b,i,h,a){var d=e()+(y.call(g,a)?g[a]:a);return f(b,d,[c(b,h)])},b.exports=I}.call(this,typeof global!=='undefined'?global:typeof self!=='undefined'?self:typeof window!=='undefined'?window:{}))},{path:undefined}]},{},[1])(1)})
